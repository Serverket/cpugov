#!/bin/sh
# preinst script for cpugov
# See: dh_installdeb(1)

set -e

case "$1" in
    install|upgrade)
        # Prevent duplication: check for manual installation in /usr/local
        if [ -f /usr/local/bin/cpugov-gtk ] || [ -f /usr/local/bin/cpugov-daemon ]; then
            echo "ERROR: A manual installation of CPU Governor was detected in /usr/local."
            echo "Please remove it before installing the official package to avoid conflicts."
            echo "You can use the uninstallation steps from the project's README."
            exit 1
        fi
    ;;

    abort-upgrade)
    ;;

    *)
        echo "preinst called with unknown argument \`$1'" >&2
        exit 1
    ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
